---
layout: default
---

<style>
.fz-product{max-width:1100px;margin:32px auto;display:grid;grid-template-columns:1.1fr .9fr;gap:36px}
@media (max-width:900px){.fz-product{grid-template-columns:1fr;gap:22px}}
.fz-hero{border:1px solid #eee;background:#fafafa;border-radius:10px;overflow:hidden}
.fz-hero img{width:100%;height:auto;display:block}
.fz-thumbs{display:flex;gap:8px;margin-top:8px;flex-wrap:wrap}
.fz-thumbs img{width:80px;height:80px;object-fit:cover;border:1px solid #eee;border-radius:6px;cursor:pointer}
</style>

{% assign slug_lc   = page.slug | default: page.title | slugify %}
{% assign title_dash = page.title | default: page.slug | replace: ' ', '-' %}

<main class="fz-product">
  <section>
    <div class="fz-hero">
      <img id="fz-hero-img" class="fz-autoimg"
           alt="{{ page.title }}"
           src="https://via.placeholder.com/900x900?text=Loading"
           data-candidates='[
             "{{ page.image }}",
             "{{ page.featured_image }}",
             "{{ page.cover }}",
             "{{ page.hero }}",
             "{{ page.thumbnail }}",
             "{{ page.thumb }}",
             "{{ page.picture }}",
             "{{ page.photo }}",
             {% if page.images %}"{{ page.images | first }}",{% endif %}
             {% if page.photos %}"{{ page.photos  | first }}",{% endif %}

             "/assets/images/originals/{{ title_dash }}.jpg",
             "/assets/images/originals/{{ title_dash }}.jpeg",
             "/assets/images/originals/{{ title_dash }}.png",
             "/assets/images/originals/{{ title_dash }}.webp",

             "/assets/images/originals/{{ slug_lc }}.jpg",
             "/assets/images/originals/{{ slug_lc }}.jpeg",
             "/assets/images/originals/{{ slug_lc }}.png",
             "/assets/images/originals/{{ slug_lc }}.webp",

             "/assets/images/originals/{{ title_dash }}/hero.jpg",
             "/assets/images/originals/{{ slug_lc }}/hero.jpg",
             "/assets/images/originals/{{ title_dash }}/cover.jpg",
             "/assets/images/originals/{{ slug_lc }}/cover.jpg"
           ]'>
    </div>

    {% if page.images and page.images.size > 1 %}
      <div class="fz-thumbs" id="fz-thumbs">
        {% for p in page.images %}
          <img src="{{ p | relative_url }}" alt="{{ page.title }} thumb {{ forloop.index }}"
               data-hero="{{ p | relative_url }}"
               onerror="this.onerror=null;this.style.display='none';">
        {% endfor %}
      </div>
    {% endif %}
  </section>

  <!-- 右侧信息区保持你现有的内容与顺序（不改动） -->
  <aside>
    {{ content }}
  </aside>
</main>

<script>
(function(){
  const base='{{ "" | relative_url }}';
  const abs = s => /^https?:\/\//.test(s) || s.startsWith('data:');
  function norm(p){ if(!p) return null; p=String(p).trim(); if(!p) return null; if(abs(p)) return p; if(!p.startsWith('/')) p='/'+p; return base+p; }

  // 自动主图
  const hero=document.getElementById('fz-hero-img');
  if(hero){
    let list=[]; try{ list=JSON.parse(hero.getAttribute('data-candidates')||'[]').filter(Boolean);}catch(e){}
    let i=-1; const tried=new Set();
    function next(){ i++; while(i<list.length && tried.has(list[i])) i++; if(i>=list.length){ hero.src='https://via.placeholder.com/900x900?text=Artwork'; return; } tried.add(list[i]); const src=norm(list[i]); if(src){ hero.src=src; } else { next(); } }
    hero.addEventListener('error', next); next();
  }

  // 缩略图切换
  const thumbs=document.getElementById('fz-thumbs');
  thumbs && hero && thumbs.addEventListener('click', e=>{
    const t=e.target; if(t && t.dataset.hero){ hero.src=t.dataset.hero; }
  });
})();
</script>
