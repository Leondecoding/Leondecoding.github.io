<!-- === TOP BAR：Logo + 主导航 + 动作按钮 === -->
<header class="site-header">
  <div class="container">
    <!-- LOGO -->
    <a class="site-logo" href="{{ '/' | relative_url }}" aria-label="{{ site.title | default: 'FZ Studio' }}">
      <img src="{{ site.logo | default: '/assets/images/logo.svg' | relative_url }}" alt="{{ site.title | default: 'FZ Studio' }}">
    </a>

    <!-- 主导航（按你站点结构） -->
    <nav class="site-nav" aria-label="Primary">
      <a href="{{ '/' | relative_url }}">HOME</a>
      <a href="{{ '/our-story/' | relative_url }}">OUR STORY</a>
      <a href="{{ '/studio/' | relative_url }}">STUDIO</a>
      <a href="{{ '/original-art/' | relative_url }}">ORIGINAL ART</a>
      <a href="{{ '/art-prints/' | relative_url }}">ART PRINTS</a>
      <a href="{{ '/greeting-cards/' | relative_url }}">GREETING CARDS</a>
      <a href="{{ '/contact/' | relative_url }}">CONTACT</a>
    </nav>

        <!-- 右上角动作按钮 -->
    <div class="site-actions">
      <!-- 搜索 -->
      <button id="fz-search-btn" class="icon-btn" type="button" aria-label="Search" title="Search">
        <svg class="fz-icon" viewBox="0 0 24 24" aria-hidden="true">
          <circle cx="11" cy="11" r="6" fill="none" stroke="currentColor" stroke-width="1.4" />
          <line x1="15" y1="15" x2="20" y2="20" stroke="currentColor" stroke-width="1.4" stroke-linecap="round" />
        </svg>
      </button>

      <!-- 登录 -->
      <button id="fz-login-btn" class="icon-btn" type="button" aria-label="Account" aria-expanded="false" title="Account">
        <svg class="fz-icon" viewBox="0 0 24 24" aria-hidden="true">
          <circle cx="12" cy="9" r="4" fill="none" stroke="currentColor" stroke-width="1.4" />
          <path
            d="M5 19c1.5-3 4-4.5 7-4.5s5.5 1.5 7 4.5"
            fill="none"
            stroke="currentColor"
            stroke-width="1.4"
            stroke-linecap="round"
            stroke-linejoin="round"
          />
        </svg>
      </button>

      <!-- 购物袋 -->
      <button id="fz-cart-btn" class="icon-btn" type="button" aria-label="Cart" title="Cart">
        <svg class="fz-icon" viewBox="0 0 24 24" aria-hidden="true">
          <path
            d="M7 8h10l-1 11H8L7 8z"
            fill="none"
            stroke="currentColor"
            stroke-width="1.4"
            stroke-linejoin="round"
          />
          <path
            d="M9.5 8a2.5 2.5 0 0 1 5 0"
            fill="none"
            stroke="currentColor"
            stroke-width="1.4"
            stroke-linecap="round"
          />
        </svg>
        <span id="fz-cart-count" hidden>0</span>
      </button>
    </div>
</header>

<!-- === 搜索面板 === -->
<div class="fz-panel" id="fz-search-panel" role="dialog" aria-modal="true" aria-labelledby="fz-search-title" hidden>
  <!-- 半透明背景，点击也能关闭 -->
  <div class="fz-panel__backdrop" data-close="fz-search-panel"></div>

  <!-- 中间这块白色弹窗主体 -->
  <div class="fz-panel__body">
    <header class="fz-panel__header">
      <h2 id="fz-search-title">Search</h2>
      <button class="fz-close" data-close="fz-search-panel" aria-label="Close search">×</button>
    </header>

    <form class="fz-search" action="/search/" method="get">
      <label class="sr-only" for="q">Search term</label>
      <input class="fz-input" id="q" name="q" type="search" placeholder="What are you looking for?">
      <button class="fz-btn fz-btn--primary" type="submit">Search</button>
    </form>
  </div>
</div>

<!-- === 登录菜单 === -->
<div class="fz-menu" id="fz-login-menu" role="menu" hidden>
  <ul>
    <li><a href="#" role="menuitem">Log in</a></li>
    <li><a href="#" role="menuitem">Sign up</a></li>
  </ul>
</div>

<!-- === 语言菜单 === -->
<div class="fz-menu fz-menu--lang" id="fz-lang-menu" role="menu" hidden>
  <ul>
    <li>
      <button type="button" class="lang-option is-current" data-lang="en">English</button>
    </li>
    <li>
      <button type="button" class="lang-option" data-lang="zh">中文</button>
    </li>
  </ul>
</div>

<!-- === 购物车抽屉（唯一 footer，含 Checkout + PayPal 容器） === -->
<!-- === Cart drawer (footer, includes Checkout + PayPal container) === -->
<aside class="fz-drawer" id="fz-cart-drawer" role="dialog" aria-modal="true" aria-labelledby="fz-cart-title" hidden>
  <div class="fz-drawer__backdrop" data-close="fz-cart-drawer"></div>
  <div class="fz-drawer__panel">
    <header class="fz-drawer__header">
      <h2 id="fz-cart-title">Cart</h2>
      <button class="fz-close" data-close="fz-cart-drawer" aria-label="Close cart">×</button>
    </header>

    <div class="fz-drawer__content" id="fz-cart-content"><p>Your cart is empty.</p></div>

    <footer class="fz-drawer__footer">
      <a class="fz-btn fz-btn--primary" href="{{ '/checkout/' | relative_url }}">Checkout</a>
      <!-- PayPal Smart Buttons 容器（抽屉内）-->
      <div id="fz-paypal-buttons" style="margin-top:12px;"></div>
      <div id="fz-paypal-hint" style="font-size:.9em;color:#666;margin-top:6px;"></div>
    </footer>
  </div>
</aside>

<!-- === 全站互动脚本（带版本号，强制刷新缓存） === -->
<script defer src="{{ '/assets/js/fz-ui.js?v=20251030' | relative_url }}"></script>
<script defer src="{{ '/assets/js/fz-cart-delegate.js?v=20251030' | relative_url }}"></script>

<!-- PayPal 配置与脚本 -->
<script>
  window.FZ_PAYPAL = {
    clientId: "{{ site.paypal_client_id | default: 'YOUR-SANDBOX-CLIENT-ID' }}",
    currency: "{{ site.default_currency | default: 'GBP' }}",
    intent: "CAPTURE",
    env: "{{ site.paypal_env | default: 'sandbox' }}"
  };
</script>
<script defer src="{{ '/assets/js/fz-paypal.js' | relative_url }}"></script>
