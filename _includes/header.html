<!-- 文件：_includes/header.html -->
<header class="fz-site-header">
  <div class="fz-header-inner">
    <!-- Logo：优先使用 _config.yml 的 site.logo，否则用站点标题或 FZ Studio -->
    <a class="fz-logo" href="{{ '/' | relative_url }}" aria-label="FZ Studio Home">
      {% if site.logo %}
        <img src="{{ site.logo | relative_url }}" alt="{{ site.title | default: 'FZ Studio' }}" style="height:28px; vertical-align:middle;">
      {% else %}
        {{ site.title | default: 'FZ Studio' }}
      {% endif %}
    </a>

    <!-- 主导航 -->
    <nav class="fz-nav" aria-label="Primary">
      <a href="{{ '/' | relative_url }}" class="fz-nav__link{% if page.url == '/' %} is-active{% endif %}">Home</a>
      <a href="{{ '/our-story/' | relative_url }}" class="fz-nav__link{% if page.url == '/our-story/' %} is-active{% endif %}">Our Story</a>
      <a href="{{ '/original-art/' | relative_url }}" class="fz-nav__link{% if page.url == '/original-art/' %} is-active{% endif %}">Original Art</a>
      <a href="{{ '/art-prints/' | relative_url }}" class="fz-nav__link{% if page.url == '/art-prints/' %} is-active{% endif %}">Art Prints</a>
      <a href="{{ '/greeting-cards/' | relative_url }}" class="fz-nav__link{% if page.url == '/greeting-cards/' %} is-active{% endif %}">Greeting Cards</a>
      <a href="{{ '/contact/' | relative_url }}" class="fz-nav__link{% if page.url == '/contact/' %} is-active{% endif %}">Contact</a>
    </nav>

    <!-- 右侧：搜索 / 登录 / 购物篮 -->
    <div class="fz-actions">
      <!-- 搜索 -->
      <button class="fz-icon-btn" id="fz-search-btn" aria-label="搜索" aria-haspopup="dialog" aria-controls="fz-search-panel">
        <svg viewBox="0 0 24 24" width="22" height="22" aria-hidden="true"><path d="M11 4a7 7 0 015.52 11.37l3.56 3.56-1.42 1.42-3.56-3.56A7 7 0 1111 4zm0 2a5 5 0 100 10 5 5 0 000-10z"/></svg>
      </button>

      <!-- 登录 -->
      <button class="fz-icon-btn" id="fz-login-btn" aria-label="登录" aria-haspopup="menu" aria-controls="fz-login-menu" aria-expanded="false">
        <svg viewBox="0 0 24 24" width="22" height="22" aria-hidden="true"><path d="M12 12a5 5 0 10-5-5 5 5 0 005 5zm0 2c-4.42 0-8 2.24-8 5v1h16v-1c0-2.76-3.58-5-8-5z"/></svg>
      </button>

      <!-- 购物篮 -->
      <button class="fz-icon-btn" id="fz-cart-btn" aria-label="购物篮" aria-haspopup="dialog" aria-controls="fz-cart-drawer">
        <svg viewBox="0 0 24 24" width="22" height="22" aria-hidden="true"><path d="M7 18a2 2 0 102 2 2 2 0 00-2-2zm8 0a2 2 0 102 2 2 2 0 00-2-2zM7.2 6l.6 3h9.9l1.3-5H6.4L6 2H3v2h2l2.2 10H19v-2H8.8l-.3-2h9.6v0"/></svg>
        <span class="fz-badge" id="fz-cart-count" hidden>0</span>
      </button>
    </div>
  </div>
</header>

<!-- 搜索面板（占位） -->
<div class="fz-panel" id="fz-search-panel" role="dialog" aria-modal="true" aria-labelledby="fz-search-title" hidden>
  <div class="fz-panel__backdrop" data-close="fz-search-panel"></div>
  <div class="fz-panel__body" role="document">
    <button class="fz-close" data-close="fz-search-panel" aria-label="关闭搜索">×</button>
    <h2 id="fz-search-title">搜索</h2>
    <form action="{{ '/search/' | relative_url }}" method="get" role="search">
      <input class="fz-input" type="search" name="q" placeholder="搜索作品、文章…" autofocus>
      <button class="fz-btn fz-btn--primary" type="submit">搜索</button>
    </form>
    <p class="fz-note">占位：后续可接入 Lunr.js / Algolia。</p>
  </div>
</div>

<!-- 登录菜单（占位） -->
<div class="fz-menu" id="fz-login-menu" role="menu" hidden>
  <ul>
    <li><a href="#" role="menuitem">登录（占位）</a></li>
    <li><a href="#" role="menuitem">注册（占位）</a></li>
    <li><a href="{{ '/account/' | relative_url }}" role="menuitem">账户（占位）</a></li>
  </ul>
</div>

<!-- 购物篮抽屉（占位） -->
<aside class="fz-drawer" id="fz-cart-drawer" role="dialog" aria-modal="true" aria-labelledby="fz-cart-title" hidden>
  <div class="fz-drawer__backdrop" data-close="fz-cart-drawer"></div>
  <div class="fz-drawer__panel">
    <header class="fz-drawer__header">
      <h2 id="fz-cart-title">购物篮</h2>
      <button class="fz-close" data-close="fz-cart-drawer" aria-label="关闭购物篮">×</button>
    </header>
    <div class="fz-drawer__content" id="fz-cart-content">
      <p>当前为空。<br>占位：可对接 Shopify Buy Button / Snipcart / Lemon Squeezy。</p>
    </div>
    <footer class="fz-drawer__footer">
      <a class="fz-btn fz-btn--primary" href="#">去结算（占位）</a>
    </footer>
  </div>
</aside>

<!-- 交互脚本（确保已存在 assets/js/fz-ui.js） -->
<script defer src="{{ '/assets/js/fz-ui.js' | relative_url }}"></script>
